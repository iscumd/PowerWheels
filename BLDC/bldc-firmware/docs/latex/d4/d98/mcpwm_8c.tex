\hypertarget{mcpwm_8c}{}\section{mcpwm.\+c File Reference}
\label{mcpwm_8c}\index{mcpwm.\+c@{mcpwm.\+c}}
{\ttfamily \#include \char`\"{}ch.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}hal.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}stm32f4xx\+\_\+conf.\+h\char`\"{}}\\*
{\ttfamily \#include $<$stdlib.\+h$>$}\\*
{\ttfamily \#include $<$math.\+h$>$}\\*
{\ttfamily \#include $<$stdio.\+h$>$}\\*
{\ttfamily \#include $<$string.\+h$>$}\\*
{\ttfamily \#include \char`\"{}main.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}mcpwm.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}digital\+\_\+filter.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}utils.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ledpwm.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}hw.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}terminal.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}encoder.\+h\char`\"{}}\\*
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structmc__timer__struct}{mc\+\_\+timer\+\_\+struct}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{mcpwm_8c_a6c08bc2de2f362a8124368ddfb1b088c}{K\+V\+\_\+\+F\+I\+R\+\_\+\+T\+A\+P\+S\+\_\+\+B\+I\+T\+S}~7
\item 
\#define \hyperlink{mcpwm_8c_aff7d8e06c88d2772238992c05d2343f5}{K\+V\+\_\+\+F\+I\+R\+\_\+\+L\+E\+N}~(1 $<$$<$ \hyperlink{mcpwm_8c_a6c08bc2de2f362a8124368ddfb1b088c}{K\+V\+\_\+\+F\+I\+R\+\_\+\+T\+A\+P\+S\+\_\+\+B\+I\+T\+S})
\item 
\#define \hyperlink{mcpwm_8c_ac2a142232b852d2292c504897906781e}{K\+V\+\_\+\+F\+I\+R\+\_\+\+F\+C\+U\+T}~0.\+02
\item 
\#define \hyperlink{mcpwm_8c_a2f5f1909cea02a9311ba971b145d2479}{A\+M\+P\+\_\+\+F\+I\+R\+\_\+\+T\+A\+P\+S\+\_\+\+B\+I\+T\+S}~7
\item 
\#define \hyperlink{mcpwm_8c_a0ac79ae400f254c293caebfa3b0aa451}{A\+M\+P\+\_\+\+F\+I\+R\+\_\+\+L\+E\+N}~(1 $<$$<$ \hyperlink{mcpwm_8c_a2f5f1909cea02a9311ba971b145d2479}{A\+M\+P\+\_\+\+F\+I\+R\+\_\+\+T\+A\+P\+S\+\_\+\+B\+I\+T\+S})
\item 
\#define \hyperlink{mcpwm_8c_a817d2335d61364f1f7e345eb2c80a3ef}{A\+M\+P\+\_\+\+F\+I\+R\+\_\+\+F\+C\+U\+T}~0.\+02
\item 
\#define \hyperlink{mcpwm_8c_aaef35c0743ec80cdf978c4093d78fd1a}{C\+U\+R\+R\+\_\+\+F\+I\+R\+\_\+\+T\+A\+P\+S\+\_\+\+B\+I\+T\+S}~4
\item 
\#define \hyperlink{mcpwm_8c_a9d57858a1d0e01b3c96b76fa41c7d96b}{C\+U\+R\+R\+\_\+\+F\+I\+R\+\_\+\+L\+E\+N}~(1 $<$$<$ \hyperlink{mcpwm_8c_aaef35c0743ec80cdf978c4093d78fd1a}{C\+U\+R\+R\+\_\+\+F\+I\+R\+\_\+\+T\+A\+P\+S\+\_\+\+B\+I\+T\+S})
\item 
\#define \hyperlink{mcpwm_8c_a8decb0f801bad25ed816e2d29bbd034e}{C\+U\+R\+R\+\_\+\+F\+I\+R\+\_\+\+F\+C\+U\+T}~0.\+15
\item 
\#define \hyperlink{mcpwm_8c_a83e1e55c891c6e761bf2a9e4860ca4ea}{I\+S\+\_\+\+D\+E\+T\+E\+C\+T\+I\+N\+G}()~(state == \hyperlink{datatypes_8h_a31ba5ae9b4a53237b5b76db71ca0299aa597f53cae221342b7f33f0321cf24e11}{M\+C\+\_\+\+S\+T\+A\+T\+E\+\_\+\+D\+E\+T\+E\+C\+T\+I\+N\+G})
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{mcpwm_8c_a741df16681b89fa88b1dfdc148e9c247}{mcpwm\+\_\+init} (\hyperlink{structmc__configuration}{mc\+\_\+configuration} $\ast$configuration)
\item 
const volatile \hyperlink{structmc__configuration}{mc\+\_\+configuration} $\ast$ \hyperlink{mcpwm_8c_a6a5d94aa8dfe85c2e2eb8bcedc4cc9e2}{mcpwm\+\_\+get\+\_\+configuration} (void)
\item 
void \hyperlink{mcpwm_8c_af0c84721a6bd9e03bcdc83997dceb0bd}{mcpwm\+\_\+set\+\_\+configuration} (\hyperlink{structmc__configuration}{mc\+\_\+configuration} $\ast$configuration)
\item 
void \hyperlink{mcpwm_8c_ab0ded721a702fcc2f419e348dfb2394e}{mcpwm\+\_\+init\+\_\+hall\+\_\+table} (int8\+\_\+t $\ast$table)
\item 
void \hyperlink{mcpwm_8c_a9dd57224b5a0906f51f63deb04575fda}{mcpwm\+\_\+set\+\_\+duty} (float duty\+Cycle)
\item 
void \hyperlink{mcpwm_8c_ac0ea3c433002e0c6152f1e8c336ea773}{mcpwm\+\_\+set\+\_\+pid\+\_\+speed} (float rpm)
\item 
void \hyperlink{mcpwm_8c_a947be2c19679b5d18b593fd43b3bbc5f}{mcpwm\+\_\+set\+\_\+pid\+\_\+pos} (float pos)
\item 
void \hyperlink{mcpwm_8c_ac8cce9e7089ba5b002f4bf38211ed27a}{mcpwm\+\_\+set\+\_\+current} (float current)
\item 
void \hyperlink{mcpwm_8c_af5a0f5ec4944da39e9192d1fee78c5ad}{mcpwm\+\_\+set\+\_\+brake\+\_\+current} (float current)
\item 
void \hyperlink{mcpwm_8c_a059e73c08f17b8f9c0f367903f9d5c0b}{mcpwm\+\_\+brake\+\_\+now} (void)
\item 
void \hyperlink{mcpwm_8c_a060e6f8cceedc217d4cda3dc7e255acb}{mcpwm\+\_\+release\+\_\+motor} (void)
\item 
void \hyperlink{mcpwm_8c_a950110bbb0c5db30530775f3ad8c7c8f}{mcpwm\+\_\+lock} (void)
\item 
void \hyperlink{mcpwm_8c_a9833abbb75ecaec36ea2f2ae6afa14e3}{mcpwm\+\_\+unlock} (void)
\item 
void \hyperlink{mcpwm_8c_a01ee78893a848db2a0a265d85516d89d}{mcpwm\+\_\+lock\+\_\+override\+\_\+once} (void)
\item 
int \hyperlink{mcpwm_8c_ad2acaf5174aa1f04744dd0b2355cfe9c}{mcpwm\+\_\+get\+\_\+comm\+\_\+step} (void)
\item 
float \hyperlink{mcpwm_8c_abf9e2e82ba6197cccca4980be9d82e86}{mcpwm\+\_\+get\+\_\+duty\+\_\+cycle\+\_\+set} (void)
\item 
float \hyperlink{mcpwm_8c_a055e8c23ee46051aa3e9c8eb5a62da31}{mcpwm\+\_\+get\+\_\+duty\+\_\+cycle\+\_\+now} (void)
\item 
float \hyperlink{mcpwm_8c_a2c11fd7cd576b8545639d70ad9068bb6}{mcpwm\+\_\+get\+\_\+switching\+\_\+frequency\+\_\+now} (void)
\item 
float \hyperlink{mcpwm_8c_aa48e2f10a4519f28a8cedf114ddd39fa}{mcpwm\+\_\+get\+\_\+rpm} (void)
\item 
\hyperlink{datatypes_8h_a31ba5ae9b4a53237b5b76db71ca0299a}{mc\+\_\+state} \hyperlink{mcpwm_8c_a877cbb1f32dab9cc76d8aad64b2aa1ed}{mcpwm\+\_\+get\+\_\+state} (void)
\item 
\hyperlink{datatypes_8h_a29724157fc2c874a0bafeb059b571d14}{mc\+\_\+fault\+\_\+code} \hyperlink{mcpwm_8c_a543e86f6faec79974352738009a9da40}{mcpwm\+\_\+get\+\_\+fault} (void)
\item 
const char $\ast$ \hyperlink{mcpwm_8c_a7795f8c26fddcf448afa3d25623ae4e9}{mcpwm\+\_\+fault\+\_\+to\+\_\+string} (\hyperlink{datatypes_8h_a29724157fc2c874a0bafeb059b571d14}{mc\+\_\+fault\+\_\+code} fault)
\item 
float \hyperlink{mcpwm_8c_a2755a29a5e5899b14bf3a8885cee5fad}{mcpwm\+\_\+get\+\_\+kv} (void)
\item 
float \hyperlink{mcpwm_8c_a381642f17c64e43bc0d1ee711dcf65eb}{mcpwm\+\_\+get\+\_\+kv\+\_\+filtered} (void)
\item 
float \hyperlink{mcpwm_8c_a62cdbf8a4a38b8537d93c6bd1c01b91e}{mcpwm\+\_\+get\+\_\+tot\+\_\+current} (void)
\item 
float \hyperlink{mcpwm_8c_a15bd545876cc438ccafe772971305f18}{mcpwm\+\_\+get\+\_\+tot\+\_\+current\+\_\+filtered} (void)
\item 
float \hyperlink{mcpwm_8c_ac0b77e746e9a92a419d6114997fbd763}{mcpwm\+\_\+get\+\_\+tot\+\_\+current\+\_\+directional} (void)
\item 
float \hyperlink{mcpwm_8c_a2a2c6e557a045f7e70a177aeb9e6268b}{mcpwm\+\_\+get\+\_\+tot\+\_\+current\+\_\+directional\+\_\+filtered} (void)
\item 
float \hyperlink{mcpwm_8c_a5a07d303d2dbeeb7d406031ec0245768}{mcpwm\+\_\+get\+\_\+tot\+\_\+current\+\_\+in} (void)
\item 
float \hyperlink{mcpwm_8c_a632b1e9f636f0e2dae31ae45704ad5ce}{mcpwm\+\_\+get\+\_\+tot\+\_\+current\+\_\+in\+\_\+filtered} (void)
\item 
int \hyperlink{mcpwm_8c_a095a677c5faec19ad0e58cf18a371c1f}{mcpwm\+\_\+get\+\_\+tachometer\+\_\+value} (bool reset)
\item 
int \hyperlink{mcpwm_8c_a669cef28cf150b9bb377db52bf38f3aa}{mcpwm\+\_\+get\+\_\+tachometer\+\_\+abs\+\_\+value} (bool reset)
\item 
float \hyperlink{mcpwm_8c_a2e52e42e3bf9eb9b3a6c20e234c35dd3}{mcpwm\+\_\+get\+\_\+amp\+\_\+hours} (bool reset)
\item 
float \hyperlink{mcpwm_8c_ab6138c5d1ee524398afef60eb74b6572}{mcpwm\+\_\+get\+\_\+amp\+\_\+hours\+\_\+charged} (bool reset)
\item 
float \hyperlink{mcpwm_8c_a6528d34554fe5f88bac0a7c04c26d6f8}{mcpwm\+\_\+get\+\_\+watt\+\_\+hours} (bool reset)
\item 
float \hyperlink{mcpwm_8c_a0a8f41dcfa397ba1197e9cd139f391b4}{mcpwm\+\_\+get\+\_\+watt\+\_\+hours\+\_\+charged} (bool reset)
\item 
void \hyperlink{mcpwm_8c_a472294b4fc68a52694b3b2751a473b96}{mcpwm\+\_\+adc\+\_\+inj\+\_\+int\+\_\+handler} (void)
\item 
void \hyperlink{mcpwm_8c_adab2ce19bc6cbb9ea59523665612c39a}{mcpwm\+\_\+adc\+\_\+int\+\_\+handler} (void $\ast$p, uint32\+\_\+t flags)
\item 
void \hyperlink{mcpwm_8c_aee80954eb251a3cc7e3cbd9e2d72ad50}{mcpwm\+\_\+set\+\_\+detect} (void)
\item 
float \hyperlink{mcpwm_8c_a75eba9ba5161ac581ad23fe0718de72e}{mcpwm\+\_\+get\+\_\+detect\+\_\+pos} (void)
\item 
float \hyperlink{mcpwm_8c_af291b09431a336394d37f9faeca78263}{mcpwm\+\_\+read\+\_\+reset\+\_\+avg\+\_\+motor\+\_\+current} (void)
\item 
float \hyperlink{mcpwm_8c_a6e658badc7694a6fd3b20c66b42efeb8}{mcpwm\+\_\+read\+\_\+reset\+\_\+avg\+\_\+input\+\_\+current} (void)
\item 
float \hyperlink{mcpwm_8c_aecc8d955f57997ec6ddb37d9923c1030}{mcpwm\+\_\+read\+\_\+reset\+\_\+avg\+\_\+cycle\+\_\+integrator} (void)
\item 
void \hyperlink{mcpwm_8c_a56298b9a210017fcdf9eb982de492a80}{mcpwm\+\_\+set\+\_\+min\+\_\+rpm} (float rpm)
\item 
float \hyperlink{mcpwm_8c_a40f44eb9a9076013bedd753a31e8ca01}{mcpwm\+\_\+get\+\_\+min\+\_\+rpm} (void)
\item 
void \hyperlink{mcpwm_8c_adf1422a651e069f04434c76fd359f5d7}{mcpwm\+\_\+set\+\_\+comm\+\_\+mode} (\hyperlink{datatypes_8h_af3916564ec22a69f58dea8b020011381}{mc\+\_\+comm\+\_\+mode} mode)
\item 
\hyperlink{datatypes_8h_af3916564ec22a69f58dea8b020011381}{mc\+\_\+comm\+\_\+mode} \hyperlink{mcpwm_8c_a7ebe7d5c7ed7ac5f336aab186a23377f}{mcpwm\+\_\+get\+\_\+comm\+\_\+mode} (void)
\item 
float \hyperlink{mcpwm_8c_ad04a5f41ac3b2dbdff88e925f5a7c867}{mcpwm\+\_\+get\+\_\+last\+\_\+adc\+\_\+isr\+\_\+duration} (void)
\item 
float \hyperlink{mcpwm_8c_afbf59470d2a43800159793dcf9a2fa1c}{mcpwm\+\_\+get\+\_\+last\+\_\+inj\+\_\+adc\+\_\+isr\+\_\+duration} (void)
\item 
\hyperlink{structmc__rpm__dep__struct}{mc\+\_\+rpm\+\_\+dep\+\_\+struct} \hyperlink{mcpwm_8c_a3e00de142622d9a94d6ff0711850c0e9}{mcpwm\+\_\+get\+\_\+rpm\+\_\+dep} (void)
\item 
void \hyperlink{mcpwm_8c_a811f97662c12f6c6f6db2d3ef653317e}{mcpwm\+\_\+reset\+\_\+hall\+\_\+detect\+\_\+table} (void)
\item 
int \hyperlink{mcpwm_8c_aa5c97caf8a3c2a33986a77a39d32f88f}{mcpwm\+\_\+get\+\_\+hall\+\_\+detect\+\_\+result} (int8\+\_\+t $\ast$table)
\item 
int \hyperlink{mcpwm_8c_af3c4d35168fdd37ace78e17350785ff9}{mcpwm\+\_\+read\+\_\+hall\+\_\+phase} (void)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
volatile uint16\+\_\+t \hyperlink{mcpwm_8c_a92addeb7fc84a6a6406cb102c7c0e9ae}{A\+D\+C\+\_\+\+Value} \mbox{[}\hyperlink{hw__victor__r1a_8h_a5fa4e3b5a9f68a0d027e8534c24992b5}{H\+W\+\_\+\+A\+D\+C\+\_\+\+C\+H\+A\+N\+N\+E\+L\+S}\mbox{]}
\item 
volatile int \hyperlink{mcpwm_8c_aa75d77505f32e6d3c77478586bdb950e}{A\+D\+C\+\_\+curr\+\_\+norm\+\_\+value} \mbox{[}3\mbox{]}
\item 
volatile float \hyperlink{mcpwm_8c_a2bca8f3de1af25942434bdef5a909378}{mcpwm\+\_\+detect\+\_\+currents} \mbox{[}6\mbox{]}
\item 
volatile float \hyperlink{mcpwm_8c_a93815fdbff6751bfeee07700f79bbb2c}{mcpwm\+\_\+detect\+\_\+voltages} \mbox{[}6\mbox{]}
\item 
volatile float \hyperlink{mcpwm_8c_a6c4d8d0d82abf19417f9736759520865}{mcpwm\+\_\+detect\+\_\+currents\+\_\+diff} \mbox{[}6\mbox{]}
\item 
volatile int \hyperlink{mcpwm_8c_aa2e911423c3781dd1296002d54bf0fa0}{mcpwm\+\_\+vzero}
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{mcpwm_8c_a817d2335d61364f1f7e345eb2c80a3ef}{}\index{mcpwm.\+c@{mcpwm.\+c}!A\+M\+P\+\_\+\+F\+I\+R\+\_\+\+F\+C\+U\+T@{A\+M\+P\+\_\+\+F\+I\+R\+\_\+\+F\+C\+U\+T}}
\index{A\+M\+P\+\_\+\+F\+I\+R\+\_\+\+F\+C\+U\+T@{A\+M\+P\+\_\+\+F\+I\+R\+\_\+\+F\+C\+U\+T}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{A\+M\+P\+\_\+\+F\+I\+R\+\_\+\+F\+C\+U\+T}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\+M\+P\+\_\+\+F\+I\+R\+\_\+\+F\+C\+U\+T~0.\+02}\label{mcpwm_8c_a817d2335d61364f1f7e345eb2c80a3ef}
\hypertarget{mcpwm_8c_a0ac79ae400f254c293caebfa3b0aa451}{}\index{mcpwm.\+c@{mcpwm.\+c}!A\+M\+P\+\_\+\+F\+I\+R\+\_\+\+L\+E\+N@{A\+M\+P\+\_\+\+F\+I\+R\+\_\+\+L\+E\+N}}
\index{A\+M\+P\+\_\+\+F\+I\+R\+\_\+\+L\+E\+N@{A\+M\+P\+\_\+\+F\+I\+R\+\_\+\+L\+E\+N}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{A\+M\+P\+\_\+\+F\+I\+R\+\_\+\+L\+E\+N}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\+M\+P\+\_\+\+F\+I\+R\+\_\+\+L\+E\+N~(1 $<$$<$ {\bf A\+M\+P\+\_\+\+F\+I\+R\+\_\+\+T\+A\+P\+S\+\_\+\+B\+I\+T\+S})}\label{mcpwm_8c_a0ac79ae400f254c293caebfa3b0aa451}
\hypertarget{mcpwm_8c_a2f5f1909cea02a9311ba971b145d2479}{}\index{mcpwm.\+c@{mcpwm.\+c}!A\+M\+P\+\_\+\+F\+I\+R\+\_\+\+T\+A\+P\+S\+\_\+\+B\+I\+T\+S@{A\+M\+P\+\_\+\+F\+I\+R\+\_\+\+T\+A\+P\+S\+\_\+\+B\+I\+T\+S}}
\index{A\+M\+P\+\_\+\+F\+I\+R\+\_\+\+T\+A\+P\+S\+\_\+\+B\+I\+T\+S@{A\+M\+P\+\_\+\+F\+I\+R\+\_\+\+T\+A\+P\+S\+\_\+\+B\+I\+T\+S}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{A\+M\+P\+\_\+\+F\+I\+R\+\_\+\+T\+A\+P\+S\+\_\+\+B\+I\+T\+S}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\+M\+P\+\_\+\+F\+I\+R\+\_\+\+T\+A\+P\+S\+\_\+\+B\+I\+T\+S~7}\label{mcpwm_8c_a2f5f1909cea02a9311ba971b145d2479}
\hypertarget{mcpwm_8c_a8decb0f801bad25ed816e2d29bbd034e}{}\index{mcpwm.\+c@{mcpwm.\+c}!C\+U\+R\+R\+\_\+\+F\+I\+R\+\_\+\+F\+C\+U\+T@{C\+U\+R\+R\+\_\+\+F\+I\+R\+\_\+\+F\+C\+U\+T}}
\index{C\+U\+R\+R\+\_\+\+F\+I\+R\+\_\+\+F\+C\+U\+T@{C\+U\+R\+R\+\_\+\+F\+I\+R\+\_\+\+F\+C\+U\+T}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{C\+U\+R\+R\+\_\+\+F\+I\+R\+\_\+\+F\+C\+U\+T}]{\setlength{\rightskip}{0pt plus 5cm}\#define C\+U\+R\+R\+\_\+\+F\+I\+R\+\_\+\+F\+C\+U\+T~0.\+15}\label{mcpwm_8c_a8decb0f801bad25ed816e2d29bbd034e}
\hypertarget{mcpwm_8c_a9d57858a1d0e01b3c96b76fa41c7d96b}{}\index{mcpwm.\+c@{mcpwm.\+c}!C\+U\+R\+R\+\_\+\+F\+I\+R\+\_\+\+L\+E\+N@{C\+U\+R\+R\+\_\+\+F\+I\+R\+\_\+\+L\+E\+N}}
\index{C\+U\+R\+R\+\_\+\+F\+I\+R\+\_\+\+L\+E\+N@{C\+U\+R\+R\+\_\+\+F\+I\+R\+\_\+\+L\+E\+N}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{C\+U\+R\+R\+\_\+\+F\+I\+R\+\_\+\+L\+E\+N}]{\setlength{\rightskip}{0pt plus 5cm}\#define C\+U\+R\+R\+\_\+\+F\+I\+R\+\_\+\+L\+E\+N~(1 $<$$<$ {\bf C\+U\+R\+R\+\_\+\+F\+I\+R\+\_\+\+T\+A\+P\+S\+\_\+\+B\+I\+T\+S})}\label{mcpwm_8c_a9d57858a1d0e01b3c96b76fa41c7d96b}
\hypertarget{mcpwm_8c_aaef35c0743ec80cdf978c4093d78fd1a}{}\index{mcpwm.\+c@{mcpwm.\+c}!C\+U\+R\+R\+\_\+\+F\+I\+R\+\_\+\+T\+A\+P\+S\+\_\+\+B\+I\+T\+S@{C\+U\+R\+R\+\_\+\+F\+I\+R\+\_\+\+T\+A\+P\+S\+\_\+\+B\+I\+T\+S}}
\index{C\+U\+R\+R\+\_\+\+F\+I\+R\+\_\+\+T\+A\+P\+S\+\_\+\+B\+I\+T\+S@{C\+U\+R\+R\+\_\+\+F\+I\+R\+\_\+\+T\+A\+P\+S\+\_\+\+B\+I\+T\+S}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{C\+U\+R\+R\+\_\+\+F\+I\+R\+\_\+\+T\+A\+P\+S\+\_\+\+B\+I\+T\+S}]{\setlength{\rightskip}{0pt plus 5cm}\#define C\+U\+R\+R\+\_\+\+F\+I\+R\+\_\+\+T\+A\+P\+S\+\_\+\+B\+I\+T\+S~4}\label{mcpwm_8c_aaef35c0743ec80cdf978c4093d78fd1a}
\hypertarget{mcpwm_8c_a83e1e55c891c6e761bf2a9e4860ca4ea}{}\index{mcpwm.\+c@{mcpwm.\+c}!I\+S\+\_\+\+D\+E\+T\+E\+C\+T\+I\+N\+G@{I\+S\+\_\+\+D\+E\+T\+E\+C\+T\+I\+N\+G}}
\index{I\+S\+\_\+\+D\+E\+T\+E\+C\+T\+I\+N\+G@{I\+S\+\_\+\+D\+E\+T\+E\+C\+T\+I\+N\+G}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{I\+S\+\_\+\+D\+E\+T\+E\+C\+T\+I\+N\+G}]{\setlength{\rightskip}{0pt plus 5cm}\#define I\+S\+\_\+\+D\+E\+T\+E\+C\+T\+I\+N\+G(
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)~(state == {\bf M\+C\+\_\+\+S\+T\+A\+T\+E\+\_\+\+D\+E\+T\+E\+C\+T\+I\+N\+G})}\label{mcpwm_8c_a83e1e55c891c6e761bf2a9e4860ca4ea}
\hypertarget{mcpwm_8c_ac2a142232b852d2292c504897906781e}{}\index{mcpwm.\+c@{mcpwm.\+c}!K\+V\+\_\+\+F\+I\+R\+\_\+\+F\+C\+U\+T@{K\+V\+\_\+\+F\+I\+R\+\_\+\+F\+C\+U\+T}}
\index{K\+V\+\_\+\+F\+I\+R\+\_\+\+F\+C\+U\+T@{K\+V\+\_\+\+F\+I\+R\+\_\+\+F\+C\+U\+T}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{K\+V\+\_\+\+F\+I\+R\+\_\+\+F\+C\+U\+T}]{\setlength{\rightskip}{0pt plus 5cm}\#define K\+V\+\_\+\+F\+I\+R\+\_\+\+F\+C\+U\+T~0.\+02}\label{mcpwm_8c_ac2a142232b852d2292c504897906781e}
\hypertarget{mcpwm_8c_aff7d8e06c88d2772238992c05d2343f5}{}\index{mcpwm.\+c@{mcpwm.\+c}!K\+V\+\_\+\+F\+I\+R\+\_\+\+L\+E\+N@{K\+V\+\_\+\+F\+I\+R\+\_\+\+L\+E\+N}}
\index{K\+V\+\_\+\+F\+I\+R\+\_\+\+L\+E\+N@{K\+V\+\_\+\+F\+I\+R\+\_\+\+L\+E\+N}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{K\+V\+\_\+\+F\+I\+R\+\_\+\+L\+E\+N}]{\setlength{\rightskip}{0pt plus 5cm}\#define K\+V\+\_\+\+F\+I\+R\+\_\+\+L\+E\+N~(1 $<$$<$ {\bf K\+V\+\_\+\+F\+I\+R\+\_\+\+T\+A\+P\+S\+\_\+\+B\+I\+T\+S})}\label{mcpwm_8c_aff7d8e06c88d2772238992c05d2343f5}
\hypertarget{mcpwm_8c_a6c08bc2de2f362a8124368ddfb1b088c}{}\index{mcpwm.\+c@{mcpwm.\+c}!K\+V\+\_\+\+F\+I\+R\+\_\+\+T\+A\+P\+S\+\_\+\+B\+I\+T\+S@{K\+V\+\_\+\+F\+I\+R\+\_\+\+T\+A\+P\+S\+\_\+\+B\+I\+T\+S}}
\index{K\+V\+\_\+\+F\+I\+R\+\_\+\+T\+A\+P\+S\+\_\+\+B\+I\+T\+S@{K\+V\+\_\+\+F\+I\+R\+\_\+\+T\+A\+P\+S\+\_\+\+B\+I\+T\+S}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{K\+V\+\_\+\+F\+I\+R\+\_\+\+T\+A\+P\+S\+\_\+\+B\+I\+T\+S}]{\setlength{\rightskip}{0pt plus 5cm}\#define K\+V\+\_\+\+F\+I\+R\+\_\+\+T\+A\+P\+S\+\_\+\+B\+I\+T\+S~7}\label{mcpwm_8c_a6c08bc2de2f362a8124368ddfb1b088c}


\subsection{Function Documentation}
\hypertarget{mcpwm_8c_a472294b4fc68a52694b3b2751a473b96}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+adc\+\_\+inj\+\_\+int\+\_\+handler@{mcpwm\+\_\+adc\+\_\+inj\+\_\+int\+\_\+handler}}
\index{mcpwm\+\_\+adc\+\_\+inj\+\_\+int\+\_\+handler@{mcpwm\+\_\+adc\+\_\+inj\+\_\+int\+\_\+handler}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+adc\+\_\+inj\+\_\+int\+\_\+handler(void)}]{\setlength{\rightskip}{0pt plus 5cm}void mcpwm\+\_\+adc\+\_\+inj\+\_\+int\+\_\+handler (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_a472294b4fc68a52694b3b2751a473b96}
\hypertarget{mcpwm_8c_adab2ce19bc6cbb9ea59523665612c39a}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+adc\+\_\+int\+\_\+handler@{mcpwm\+\_\+adc\+\_\+int\+\_\+handler}}
\index{mcpwm\+\_\+adc\+\_\+int\+\_\+handler@{mcpwm\+\_\+adc\+\_\+int\+\_\+handler}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+adc\+\_\+int\+\_\+handler(void $\ast$p, uint32\+\_\+t flags)}]{\setlength{\rightskip}{0pt plus 5cm}void mcpwm\+\_\+adc\+\_\+int\+\_\+handler (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{p, }
\item[{uint32\+\_\+t}]{flags}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_adab2ce19bc6cbb9ea59523665612c39a}
\hypertarget{mcpwm_8c_a059e73c08f17b8f9c0f367903f9d5c0b}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+brake\+\_\+now@{mcpwm\+\_\+brake\+\_\+now}}
\index{mcpwm\+\_\+brake\+\_\+now@{mcpwm\+\_\+brake\+\_\+now}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+brake\+\_\+now(void)}]{\setlength{\rightskip}{0pt plus 5cm}void mcpwm\+\_\+brake\+\_\+now (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_a059e73c08f17b8f9c0f367903f9d5c0b}
Stop the motor and use braking. \hypertarget{mcpwm_8c_a7795f8c26fddcf448afa3d25623ae4e9}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+fault\+\_\+to\+\_\+string@{mcpwm\+\_\+fault\+\_\+to\+\_\+string}}
\index{mcpwm\+\_\+fault\+\_\+to\+\_\+string@{mcpwm\+\_\+fault\+\_\+to\+\_\+string}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+fault\+\_\+to\+\_\+string(mc\+\_\+fault\+\_\+code fault)}]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ mcpwm\+\_\+fault\+\_\+to\+\_\+string (
\begin{DoxyParamCaption}
\item[{{\bf mc\+\_\+fault\+\_\+code}}]{fault}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_a7795f8c26fddcf448afa3d25623ae4e9}
\hypertarget{mcpwm_8c_a2e52e42e3bf9eb9b3a6c20e234c35dd3}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+get\+\_\+amp\+\_\+hours@{mcpwm\+\_\+get\+\_\+amp\+\_\+hours}}
\index{mcpwm\+\_\+get\+\_\+amp\+\_\+hours@{mcpwm\+\_\+get\+\_\+amp\+\_\+hours}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+get\+\_\+amp\+\_\+hours(bool reset)}]{\setlength{\rightskip}{0pt plus 5cm}float mcpwm\+\_\+get\+\_\+amp\+\_\+hours (
\begin{DoxyParamCaption}
\item[{bool}]{reset}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_a2e52e42e3bf9eb9b3a6c20e234c35dd3}
Get the amount of amp hours drawn from the input source.


\begin{DoxyParams}{Parameters}
{\em reset} & If true, the counter will be reset after this call.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The amount of amp hours drawn. 
\end{DoxyReturn}
\hypertarget{mcpwm_8c_ab6138c5d1ee524398afef60eb74b6572}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+get\+\_\+amp\+\_\+hours\+\_\+charged@{mcpwm\+\_\+get\+\_\+amp\+\_\+hours\+\_\+charged}}
\index{mcpwm\+\_\+get\+\_\+amp\+\_\+hours\+\_\+charged@{mcpwm\+\_\+get\+\_\+amp\+\_\+hours\+\_\+charged}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+get\+\_\+amp\+\_\+hours\+\_\+charged(bool reset)}]{\setlength{\rightskip}{0pt plus 5cm}float mcpwm\+\_\+get\+\_\+amp\+\_\+hours\+\_\+charged (
\begin{DoxyParamCaption}
\item[{bool}]{reset}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_ab6138c5d1ee524398afef60eb74b6572}
Get the amount of amp hours fed back into the input source.


\begin{DoxyParams}{Parameters}
{\em reset} & If true, the counter will be reset after this call.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The amount of amp hours fed back. 
\end{DoxyReturn}
\hypertarget{mcpwm_8c_a7ebe7d5c7ed7ac5f336aab186a23377f}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+get\+\_\+comm\+\_\+mode@{mcpwm\+\_\+get\+\_\+comm\+\_\+mode}}
\index{mcpwm\+\_\+get\+\_\+comm\+\_\+mode@{mcpwm\+\_\+get\+\_\+comm\+\_\+mode}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+get\+\_\+comm\+\_\+mode(void)}]{\setlength{\rightskip}{0pt plus 5cm}{\bf mc\+\_\+comm\+\_\+mode} mcpwm\+\_\+get\+\_\+comm\+\_\+mode (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_a7ebe7d5c7ed7ac5f336aab186a23377f}
\hypertarget{mcpwm_8c_ad2acaf5174aa1f04744dd0b2355cfe9c}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+get\+\_\+comm\+\_\+step@{mcpwm\+\_\+get\+\_\+comm\+\_\+step}}
\index{mcpwm\+\_\+get\+\_\+comm\+\_\+step@{mcpwm\+\_\+get\+\_\+comm\+\_\+step}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+get\+\_\+comm\+\_\+step(void)}]{\setlength{\rightskip}{0pt plus 5cm}int mcpwm\+\_\+get\+\_\+comm\+\_\+step (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_ad2acaf5174aa1f04744dd0b2355cfe9c}
Get the electrical position (or commutation step) of the motor.

\begin{DoxyReturn}{Returns}
The current commutation step. Range \mbox{[}1 6\mbox{]} 
\end{DoxyReturn}
\hypertarget{mcpwm_8c_a6a5d94aa8dfe85c2e2eb8bcedc4cc9e2}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+get\+\_\+configuration@{mcpwm\+\_\+get\+\_\+configuration}}
\index{mcpwm\+\_\+get\+\_\+configuration@{mcpwm\+\_\+get\+\_\+configuration}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+get\+\_\+configuration(void)}]{\setlength{\rightskip}{0pt plus 5cm}const volatile {\bf mc\+\_\+configuration}$\ast$ mcpwm\+\_\+get\+\_\+configuration (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_a6a5d94aa8dfe85c2e2eb8bcedc4cc9e2}
\hypertarget{mcpwm_8c_a75eba9ba5161ac581ad23fe0718de72e}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+get\+\_\+detect\+\_\+pos@{mcpwm\+\_\+get\+\_\+detect\+\_\+pos}}
\index{mcpwm\+\_\+get\+\_\+detect\+\_\+pos@{mcpwm\+\_\+get\+\_\+detect\+\_\+pos}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+get\+\_\+detect\+\_\+pos(void)}]{\setlength{\rightskip}{0pt plus 5cm}float mcpwm\+\_\+get\+\_\+detect\+\_\+pos (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_a75eba9ba5161ac581ad23fe0718de72e}
\hypertarget{mcpwm_8c_a055e8c23ee46051aa3e9c8eb5a62da31}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+get\+\_\+duty\+\_\+cycle\+\_\+now@{mcpwm\+\_\+get\+\_\+duty\+\_\+cycle\+\_\+now}}
\index{mcpwm\+\_\+get\+\_\+duty\+\_\+cycle\+\_\+now@{mcpwm\+\_\+get\+\_\+duty\+\_\+cycle\+\_\+now}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+get\+\_\+duty\+\_\+cycle\+\_\+now(void)}]{\setlength{\rightskip}{0pt plus 5cm}float mcpwm\+\_\+get\+\_\+duty\+\_\+cycle\+\_\+now (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_a055e8c23ee46051aa3e9c8eb5a62da31}
\hypertarget{mcpwm_8c_abf9e2e82ba6197cccca4980be9d82e86}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+get\+\_\+duty\+\_\+cycle\+\_\+set@{mcpwm\+\_\+get\+\_\+duty\+\_\+cycle\+\_\+set}}
\index{mcpwm\+\_\+get\+\_\+duty\+\_\+cycle\+\_\+set@{mcpwm\+\_\+get\+\_\+duty\+\_\+cycle\+\_\+set}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+get\+\_\+duty\+\_\+cycle\+\_\+set(void)}]{\setlength{\rightskip}{0pt plus 5cm}float mcpwm\+\_\+get\+\_\+duty\+\_\+cycle\+\_\+set (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_abf9e2e82ba6197cccca4980be9d82e86}
\hypertarget{mcpwm_8c_a543e86f6faec79974352738009a9da40}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+get\+\_\+fault@{mcpwm\+\_\+get\+\_\+fault}}
\index{mcpwm\+\_\+get\+\_\+fault@{mcpwm\+\_\+get\+\_\+fault}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+get\+\_\+fault(void)}]{\setlength{\rightskip}{0pt plus 5cm}{\bf mc\+\_\+fault\+\_\+code} mcpwm\+\_\+get\+\_\+fault (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_a543e86f6faec79974352738009a9da40}
\hypertarget{mcpwm_8c_aa5c97caf8a3c2a33986a77a39d32f88f}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+get\+\_\+hall\+\_\+detect\+\_\+result@{mcpwm\+\_\+get\+\_\+hall\+\_\+detect\+\_\+result}}
\index{mcpwm\+\_\+get\+\_\+hall\+\_\+detect\+\_\+result@{mcpwm\+\_\+get\+\_\+hall\+\_\+detect\+\_\+result}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+get\+\_\+hall\+\_\+detect\+\_\+result(int8\+\_\+t $\ast$table)}]{\setlength{\rightskip}{0pt plus 5cm}int mcpwm\+\_\+get\+\_\+hall\+\_\+detect\+\_\+result (
\begin{DoxyParamCaption}
\item[{int8\+\_\+t $\ast$}]{table}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_aa5c97caf8a3c2a33986a77a39d32f88f}
Get the current detected hall sensor table


\begin{DoxyParams}{Parameters}
{\em table} & Pointer to a table where the result should be stored\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0\+: O\+K -\/1\+: Invalid hall sensor output -\/2\+: W\+S2811 enabled -\/3\+: Encoder enabled 
\end{DoxyReturn}
\hypertarget{mcpwm_8c_a2755a29a5e5899b14bf3a8885cee5fad}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+get\+\_\+kv@{mcpwm\+\_\+get\+\_\+kv}}
\index{mcpwm\+\_\+get\+\_\+kv@{mcpwm\+\_\+get\+\_\+kv}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+get\+\_\+kv(void)}]{\setlength{\rightskip}{0pt plus 5cm}float mcpwm\+\_\+get\+\_\+kv (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_a2755a29a5e5899b14bf3a8885cee5fad}
Calculate the K\+V (R\+P\+M per volt) value for the motor. This function has to be used while the motor is moving. Note that the return value has to be divided by half the number of motor poles.

\begin{DoxyReturn}{Returns}
The K\+V value. 
\end{DoxyReturn}
\hypertarget{mcpwm_8c_a381642f17c64e43bc0d1ee711dcf65eb}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+get\+\_\+kv\+\_\+filtered@{mcpwm\+\_\+get\+\_\+kv\+\_\+filtered}}
\index{mcpwm\+\_\+get\+\_\+kv\+\_\+filtered@{mcpwm\+\_\+get\+\_\+kv\+\_\+filtered}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+get\+\_\+kv\+\_\+filtered(void)}]{\setlength{\rightskip}{0pt plus 5cm}float mcpwm\+\_\+get\+\_\+kv\+\_\+filtered (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_a381642f17c64e43bc0d1ee711dcf65eb}
Calculate the F\+I\+R-\/filtered K\+V (R\+P\+M per volt) value for the motor. This function has to be used while the motor is moving. Note that the return value has to be divided by half the number of motor poles.

\begin{DoxyReturn}{Returns}
The filtered K\+V value. 
\end{DoxyReturn}
\hypertarget{mcpwm_8c_ad04a5f41ac3b2dbdff88e925f5a7c867}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+get\+\_\+last\+\_\+adc\+\_\+isr\+\_\+duration@{mcpwm\+\_\+get\+\_\+last\+\_\+adc\+\_\+isr\+\_\+duration}}
\index{mcpwm\+\_\+get\+\_\+last\+\_\+adc\+\_\+isr\+\_\+duration@{mcpwm\+\_\+get\+\_\+last\+\_\+adc\+\_\+isr\+\_\+duration}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+get\+\_\+last\+\_\+adc\+\_\+isr\+\_\+duration(void)}]{\setlength{\rightskip}{0pt plus 5cm}float mcpwm\+\_\+get\+\_\+last\+\_\+adc\+\_\+isr\+\_\+duration (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_ad04a5f41ac3b2dbdff88e925f5a7c867}
\hypertarget{mcpwm_8c_afbf59470d2a43800159793dcf9a2fa1c}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+get\+\_\+last\+\_\+inj\+\_\+adc\+\_\+isr\+\_\+duration@{mcpwm\+\_\+get\+\_\+last\+\_\+inj\+\_\+adc\+\_\+isr\+\_\+duration}}
\index{mcpwm\+\_\+get\+\_\+last\+\_\+inj\+\_\+adc\+\_\+isr\+\_\+duration@{mcpwm\+\_\+get\+\_\+last\+\_\+inj\+\_\+adc\+\_\+isr\+\_\+duration}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+get\+\_\+last\+\_\+inj\+\_\+adc\+\_\+isr\+\_\+duration(void)}]{\setlength{\rightskip}{0pt plus 5cm}float mcpwm\+\_\+get\+\_\+last\+\_\+inj\+\_\+adc\+\_\+isr\+\_\+duration (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_afbf59470d2a43800159793dcf9a2fa1c}
\hypertarget{mcpwm_8c_a40f44eb9a9076013bedd753a31e8ca01}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+get\+\_\+min\+\_\+rpm@{mcpwm\+\_\+get\+\_\+min\+\_\+rpm}}
\index{mcpwm\+\_\+get\+\_\+min\+\_\+rpm@{mcpwm\+\_\+get\+\_\+min\+\_\+rpm}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+get\+\_\+min\+\_\+rpm(void)}]{\setlength{\rightskip}{0pt plus 5cm}float mcpwm\+\_\+get\+\_\+min\+\_\+rpm (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_a40f44eb9a9076013bedd753a31e8ca01}
Get the minimum allowed R\+P\+M in sensorless mode.

\begin{DoxyReturn}{Returns}
The minimum allowed R\+P\+M. 
\end{DoxyReturn}
\hypertarget{mcpwm_8c_aa48e2f10a4519f28a8cedf114ddd39fa}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+get\+\_\+rpm@{mcpwm\+\_\+get\+\_\+rpm}}
\index{mcpwm\+\_\+get\+\_\+rpm@{mcpwm\+\_\+get\+\_\+rpm}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+get\+\_\+rpm(void)}]{\setlength{\rightskip}{0pt plus 5cm}float mcpwm\+\_\+get\+\_\+rpm (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_aa48e2f10a4519f28a8cedf114ddd39fa}
Calculate the current R\+P\+M of the motor. This is a signed value and the sign depends on the direction the motor is rotating in. Note that this value has to be divided by half the number of motor poles.

\begin{DoxyReturn}{Returns}
The R\+P\+M value. 
\end{DoxyReturn}
\hypertarget{mcpwm_8c_a3e00de142622d9a94d6ff0711850c0e9}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+get\+\_\+rpm\+\_\+dep@{mcpwm\+\_\+get\+\_\+rpm\+\_\+dep}}
\index{mcpwm\+\_\+get\+\_\+rpm\+\_\+dep@{mcpwm\+\_\+get\+\_\+rpm\+\_\+dep}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+get\+\_\+rpm\+\_\+dep(void)}]{\setlength{\rightskip}{0pt plus 5cm}{\bf mc\+\_\+rpm\+\_\+dep\+\_\+struct} mcpwm\+\_\+get\+\_\+rpm\+\_\+dep (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_a3e00de142622d9a94d6ff0711850c0e9}
\hypertarget{mcpwm_8c_a877cbb1f32dab9cc76d8aad64b2aa1ed}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+get\+\_\+state@{mcpwm\+\_\+get\+\_\+state}}
\index{mcpwm\+\_\+get\+\_\+state@{mcpwm\+\_\+get\+\_\+state}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+get\+\_\+state(void)}]{\setlength{\rightskip}{0pt plus 5cm}{\bf mc\+\_\+state} mcpwm\+\_\+get\+\_\+state (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_a877cbb1f32dab9cc76d8aad64b2aa1ed}
\hypertarget{mcpwm_8c_a2c11fd7cd576b8545639d70ad9068bb6}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+get\+\_\+switching\+\_\+frequency\+\_\+now@{mcpwm\+\_\+get\+\_\+switching\+\_\+frequency\+\_\+now}}
\index{mcpwm\+\_\+get\+\_\+switching\+\_\+frequency\+\_\+now@{mcpwm\+\_\+get\+\_\+switching\+\_\+frequency\+\_\+now}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+get\+\_\+switching\+\_\+frequency\+\_\+now(void)}]{\setlength{\rightskip}{0pt plus 5cm}float mcpwm\+\_\+get\+\_\+switching\+\_\+frequency\+\_\+now (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_a2c11fd7cd576b8545639d70ad9068bb6}
Get the current switching frequency.

\begin{DoxyReturn}{Returns}
The switching frequency in Hz. 
\end{DoxyReturn}
\hypertarget{mcpwm_8c_a669cef28cf150b9bb377db52bf38f3aa}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+get\+\_\+tachometer\+\_\+abs\+\_\+value@{mcpwm\+\_\+get\+\_\+tachometer\+\_\+abs\+\_\+value}}
\index{mcpwm\+\_\+get\+\_\+tachometer\+\_\+abs\+\_\+value@{mcpwm\+\_\+get\+\_\+tachometer\+\_\+abs\+\_\+value}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+get\+\_\+tachometer\+\_\+abs\+\_\+value(bool reset)}]{\setlength{\rightskip}{0pt plus 5cm}int mcpwm\+\_\+get\+\_\+tachometer\+\_\+abs\+\_\+value (
\begin{DoxyParamCaption}
\item[{bool}]{reset}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_a669cef28cf150b9bb377db52bf38f3aa}
Read the absolute number of steps the motor has rotated.


\begin{DoxyParams}{Parameters}
{\em reset} & If true, the tachometer counter will be reset after this call.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The tachometer value in motor steps. The number of motor revolutions will be this number divided by (3 $\ast$ M\+O\+T\+O\+R\+\_\+\+P\+O\+L\+E\+\_\+\+N\+U\+M\+B\+E\+R). 
\end{DoxyReturn}
\hypertarget{mcpwm_8c_a095a677c5faec19ad0e58cf18a371c1f}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+get\+\_\+tachometer\+\_\+value@{mcpwm\+\_\+get\+\_\+tachometer\+\_\+value}}
\index{mcpwm\+\_\+get\+\_\+tachometer\+\_\+value@{mcpwm\+\_\+get\+\_\+tachometer\+\_\+value}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+get\+\_\+tachometer\+\_\+value(bool reset)}]{\setlength{\rightskip}{0pt plus 5cm}int mcpwm\+\_\+get\+\_\+tachometer\+\_\+value (
\begin{DoxyParamCaption}
\item[{bool}]{reset}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_a095a677c5faec19ad0e58cf18a371c1f}
Read the number of steps the motor has rotated. This number is signed and will return a negative number when the motor is rotating backwards.


\begin{DoxyParams}{Parameters}
{\em reset} & If true, the tachometer counter will be reset after this call.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The tachometer value in motor steps. The number of motor revolutions will be this number divided by (3 $\ast$ M\+O\+T\+O\+R\+\_\+\+P\+O\+L\+E\+\_\+\+N\+U\+M\+B\+E\+R). 
\end{DoxyReturn}
\hypertarget{mcpwm_8c_a62cdbf8a4a38b8537d93c6bd1c01b91e}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+get\+\_\+tot\+\_\+current@{mcpwm\+\_\+get\+\_\+tot\+\_\+current}}
\index{mcpwm\+\_\+get\+\_\+tot\+\_\+current@{mcpwm\+\_\+get\+\_\+tot\+\_\+current}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+get\+\_\+tot\+\_\+current(void)}]{\setlength{\rightskip}{0pt plus 5cm}float mcpwm\+\_\+get\+\_\+tot\+\_\+current (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_a62cdbf8a4a38b8537d93c6bd1c01b91e}
Get the motor current. The sign of this value will represent whether the motor is drawing (positive) or generating (negative) current.

\begin{DoxyReturn}{Returns}
The motor current. 
\end{DoxyReturn}
\hypertarget{mcpwm_8c_ac0b77e746e9a92a419d6114997fbd763}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+get\+\_\+tot\+\_\+current\+\_\+directional@{mcpwm\+\_\+get\+\_\+tot\+\_\+current\+\_\+directional}}
\index{mcpwm\+\_\+get\+\_\+tot\+\_\+current\+\_\+directional@{mcpwm\+\_\+get\+\_\+tot\+\_\+current\+\_\+directional}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+get\+\_\+tot\+\_\+current\+\_\+directional(void)}]{\setlength{\rightskip}{0pt plus 5cm}float mcpwm\+\_\+get\+\_\+tot\+\_\+current\+\_\+directional (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_ac0b77e746e9a92a419d6114997fbd763}
Get the motor current. The sign of this value represents the direction in which the motor generates torque.

\begin{DoxyReturn}{Returns}
The motor current. 
\end{DoxyReturn}
\hypertarget{mcpwm_8c_a2a2c6e557a045f7e70a177aeb9e6268b}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+get\+\_\+tot\+\_\+current\+\_\+directional\+\_\+filtered@{mcpwm\+\_\+get\+\_\+tot\+\_\+current\+\_\+directional\+\_\+filtered}}
\index{mcpwm\+\_\+get\+\_\+tot\+\_\+current\+\_\+directional\+\_\+filtered@{mcpwm\+\_\+get\+\_\+tot\+\_\+current\+\_\+directional\+\_\+filtered}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+get\+\_\+tot\+\_\+current\+\_\+directional\+\_\+filtered(void)}]{\setlength{\rightskip}{0pt plus 5cm}float mcpwm\+\_\+get\+\_\+tot\+\_\+current\+\_\+directional\+\_\+filtered (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_a2a2c6e557a045f7e70a177aeb9e6268b}
Get the filtered motor current. The sign of this value represents the direction in which the motor generates torque.

\begin{DoxyReturn}{Returns}
The filtered motor current. 
\end{DoxyReturn}
\hypertarget{mcpwm_8c_a15bd545876cc438ccafe772971305f18}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+get\+\_\+tot\+\_\+current\+\_\+filtered@{mcpwm\+\_\+get\+\_\+tot\+\_\+current\+\_\+filtered}}
\index{mcpwm\+\_\+get\+\_\+tot\+\_\+current\+\_\+filtered@{mcpwm\+\_\+get\+\_\+tot\+\_\+current\+\_\+filtered}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+get\+\_\+tot\+\_\+current\+\_\+filtered(void)}]{\setlength{\rightskip}{0pt plus 5cm}float mcpwm\+\_\+get\+\_\+tot\+\_\+current\+\_\+filtered (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_a15bd545876cc438ccafe772971305f18}
Get the F\+I\+R-\/filtered motor current. The sign of this value will represent whether the motor is drawing (positive) or generating (negative) current.

\begin{DoxyReturn}{Returns}
The filtered motor current. 
\end{DoxyReturn}
\hypertarget{mcpwm_8c_a5a07d303d2dbeeb7d406031ec0245768}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+get\+\_\+tot\+\_\+current\+\_\+in@{mcpwm\+\_\+get\+\_\+tot\+\_\+current\+\_\+in}}
\index{mcpwm\+\_\+get\+\_\+tot\+\_\+current\+\_\+in@{mcpwm\+\_\+get\+\_\+tot\+\_\+current\+\_\+in}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+get\+\_\+tot\+\_\+current\+\_\+in(void)}]{\setlength{\rightskip}{0pt plus 5cm}float mcpwm\+\_\+get\+\_\+tot\+\_\+current\+\_\+in (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_a5a07d303d2dbeeb7d406031ec0245768}
Get the input current to the motor controller.

\begin{DoxyReturn}{Returns}
The input current. 
\end{DoxyReturn}
\hypertarget{mcpwm_8c_a632b1e9f636f0e2dae31ae45704ad5ce}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+get\+\_\+tot\+\_\+current\+\_\+in\+\_\+filtered@{mcpwm\+\_\+get\+\_\+tot\+\_\+current\+\_\+in\+\_\+filtered}}
\index{mcpwm\+\_\+get\+\_\+tot\+\_\+current\+\_\+in\+\_\+filtered@{mcpwm\+\_\+get\+\_\+tot\+\_\+current\+\_\+in\+\_\+filtered}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+get\+\_\+tot\+\_\+current\+\_\+in\+\_\+filtered(void)}]{\setlength{\rightskip}{0pt plus 5cm}float mcpwm\+\_\+get\+\_\+tot\+\_\+current\+\_\+in\+\_\+filtered (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_a632b1e9f636f0e2dae31ae45704ad5ce}
Get the F\+I\+R-\/filtered input current to the motor controller.

\begin{DoxyReturn}{Returns}
The filtered input current. 
\end{DoxyReturn}
\hypertarget{mcpwm_8c_a6528d34554fe5f88bac0a7c04c26d6f8}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+get\+\_\+watt\+\_\+hours@{mcpwm\+\_\+get\+\_\+watt\+\_\+hours}}
\index{mcpwm\+\_\+get\+\_\+watt\+\_\+hours@{mcpwm\+\_\+get\+\_\+watt\+\_\+hours}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+get\+\_\+watt\+\_\+hours(bool reset)}]{\setlength{\rightskip}{0pt plus 5cm}float mcpwm\+\_\+get\+\_\+watt\+\_\+hours (
\begin{DoxyParamCaption}
\item[{bool}]{reset}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_a6528d34554fe5f88bac0a7c04c26d6f8}
Get the amount of watt hours drawn from the input source.


\begin{DoxyParams}{Parameters}
{\em reset} & If true, the counter will be reset after this call.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The amount of watt hours drawn. 
\end{DoxyReturn}
\hypertarget{mcpwm_8c_a0a8f41dcfa397ba1197e9cd139f391b4}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+get\+\_\+watt\+\_\+hours\+\_\+charged@{mcpwm\+\_\+get\+\_\+watt\+\_\+hours\+\_\+charged}}
\index{mcpwm\+\_\+get\+\_\+watt\+\_\+hours\+\_\+charged@{mcpwm\+\_\+get\+\_\+watt\+\_\+hours\+\_\+charged}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+get\+\_\+watt\+\_\+hours\+\_\+charged(bool reset)}]{\setlength{\rightskip}{0pt plus 5cm}float mcpwm\+\_\+get\+\_\+watt\+\_\+hours\+\_\+charged (
\begin{DoxyParamCaption}
\item[{bool}]{reset}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_a0a8f41dcfa397ba1197e9cd139f391b4}
Get the amount of watt hours fed back into the input source.


\begin{DoxyParams}{Parameters}
{\em reset} & If true, the counter will be reset after this call.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The amount of watt hours fed back. 
\end{DoxyReturn}
\hypertarget{mcpwm_8c_a741df16681b89fa88b1dfdc148e9c247}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+init@{mcpwm\+\_\+init}}
\index{mcpwm\+\_\+init@{mcpwm\+\_\+init}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+init(mc\+\_\+configuration $\ast$configuration)}]{\setlength{\rightskip}{0pt plus 5cm}void mcpwm\+\_\+init (
\begin{DoxyParamCaption}
\item[{{\bf mc\+\_\+configuration} $\ast$}]{configuration}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_a741df16681b89fa88b1dfdc148e9c247}
\hypertarget{mcpwm_8c_ab0ded721a702fcc2f419e348dfb2394e}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+init\+\_\+hall\+\_\+table@{mcpwm\+\_\+init\+\_\+hall\+\_\+table}}
\index{mcpwm\+\_\+init\+\_\+hall\+\_\+table@{mcpwm\+\_\+init\+\_\+hall\+\_\+table}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+init\+\_\+hall\+\_\+table(int8\+\_\+t $\ast$table)}]{\setlength{\rightskip}{0pt plus 5cm}void mcpwm\+\_\+init\+\_\+hall\+\_\+table (
\begin{DoxyParamCaption}
\item[{int8\+\_\+t $\ast$}]{table}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_ab0ded721a702fcc2f419e348dfb2394e}
Initialize the hall sensor lookup table


\begin{DoxyParams}{Parameters}
{\em table} & The commutations corresponding to the hall sensor states in the forward direction-\/ \\
\hline
\end{DoxyParams}
\hypertarget{mcpwm_8c_a950110bbb0c5db30530775f3ad8c7c8f}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+lock@{mcpwm\+\_\+lock}}
\index{mcpwm\+\_\+lock@{mcpwm\+\_\+lock}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+lock(void)}]{\setlength{\rightskip}{0pt plus 5cm}void mcpwm\+\_\+lock (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_a950110bbb0c5db30530775f3ad8c7c8f}
Lock the control by disabling all control commands. \hypertarget{mcpwm_8c_a01ee78893a848db2a0a265d85516d89d}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+lock\+\_\+override\+\_\+once@{mcpwm\+\_\+lock\+\_\+override\+\_\+once}}
\index{mcpwm\+\_\+lock\+\_\+override\+\_\+once@{mcpwm\+\_\+lock\+\_\+override\+\_\+once}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+lock\+\_\+override\+\_\+once(void)}]{\setlength{\rightskip}{0pt plus 5cm}void mcpwm\+\_\+lock\+\_\+override\+\_\+once (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_a01ee78893a848db2a0a265d85516d89d}
Allow just one motor control command in the locked state. \hypertarget{mcpwm_8c_af3c4d35168fdd37ace78e17350785ff9}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+read\+\_\+hall\+\_\+phase@{mcpwm\+\_\+read\+\_\+hall\+\_\+phase}}
\index{mcpwm\+\_\+read\+\_\+hall\+\_\+phase@{mcpwm\+\_\+read\+\_\+hall\+\_\+phase}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+read\+\_\+hall\+\_\+phase(void)}]{\setlength{\rightskip}{0pt plus 5cm}int mcpwm\+\_\+read\+\_\+hall\+\_\+phase (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_af3c4d35168fdd37ace78e17350785ff9}
Read the current phase of the motor using hall effect sensors \begin{DoxyReturn}{Returns}
The phase read. 
\end{DoxyReturn}
\hypertarget{mcpwm_8c_aecc8d955f57997ec6ddb37d9923c1030}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+read\+\_\+reset\+\_\+avg\+\_\+cycle\+\_\+integrator@{mcpwm\+\_\+read\+\_\+reset\+\_\+avg\+\_\+cycle\+\_\+integrator}}
\index{mcpwm\+\_\+read\+\_\+reset\+\_\+avg\+\_\+cycle\+\_\+integrator@{mcpwm\+\_\+read\+\_\+reset\+\_\+avg\+\_\+cycle\+\_\+integrator}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+read\+\_\+reset\+\_\+avg\+\_\+cycle\+\_\+integrator(void)}]{\setlength{\rightskip}{0pt plus 5cm}float mcpwm\+\_\+read\+\_\+reset\+\_\+avg\+\_\+cycle\+\_\+integrator (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_aecc8d955f57997ec6ddb37d9923c1030}
\hypertarget{mcpwm_8c_a6e658badc7694a6fd3b20c66b42efeb8}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+read\+\_\+reset\+\_\+avg\+\_\+input\+\_\+current@{mcpwm\+\_\+read\+\_\+reset\+\_\+avg\+\_\+input\+\_\+current}}
\index{mcpwm\+\_\+read\+\_\+reset\+\_\+avg\+\_\+input\+\_\+current@{mcpwm\+\_\+read\+\_\+reset\+\_\+avg\+\_\+input\+\_\+current}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+read\+\_\+reset\+\_\+avg\+\_\+input\+\_\+current(void)}]{\setlength{\rightskip}{0pt plus 5cm}float mcpwm\+\_\+read\+\_\+reset\+\_\+avg\+\_\+input\+\_\+current (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_a6e658badc7694a6fd3b20c66b42efeb8}
\hypertarget{mcpwm_8c_af291b09431a336394d37f9faeca78263}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+read\+\_\+reset\+\_\+avg\+\_\+motor\+\_\+current@{mcpwm\+\_\+read\+\_\+reset\+\_\+avg\+\_\+motor\+\_\+current}}
\index{mcpwm\+\_\+read\+\_\+reset\+\_\+avg\+\_\+motor\+\_\+current@{mcpwm\+\_\+read\+\_\+reset\+\_\+avg\+\_\+motor\+\_\+current}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+read\+\_\+reset\+\_\+avg\+\_\+motor\+\_\+current(void)}]{\setlength{\rightskip}{0pt plus 5cm}float mcpwm\+\_\+read\+\_\+reset\+\_\+avg\+\_\+motor\+\_\+current (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_af291b09431a336394d37f9faeca78263}
\hypertarget{mcpwm_8c_a060e6f8cceedc217d4cda3dc7e255acb}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+release\+\_\+motor@{mcpwm\+\_\+release\+\_\+motor}}
\index{mcpwm\+\_\+release\+\_\+motor@{mcpwm\+\_\+release\+\_\+motor}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+release\+\_\+motor(void)}]{\setlength{\rightskip}{0pt plus 5cm}void mcpwm\+\_\+release\+\_\+motor (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_a060e6f8cceedc217d4cda3dc7e255acb}
Disconnect the motor and let it turn freely. \hypertarget{mcpwm_8c_a811f97662c12f6c6f6db2d3ef653317e}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+reset\+\_\+hall\+\_\+detect\+\_\+table@{mcpwm\+\_\+reset\+\_\+hall\+\_\+detect\+\_\+table}}
\index{mcpwm\+\_\+reset\+\_\+hall\+\_\+detect\+\_\+table@{mcpwm\+\_\+reset\+\_\+hall\+\_\+detect\+\_\+table}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+reset\+\_\+hall\+\_\+detect\+\_\+table(void)}]{\setlength{\rightskip}{0pt plus 5cm}void mcpwm\+\_\+reset\+\_\+hall\+\_\+detect\+\_\+table (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_a811f97662c12f6c6f6db2d3ef653317e}
Reset the hall sensor detection table \hypertarget{mcpwm_8c_af5a0f5ec4944da39e9192d1fee78c5ad}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+set\+\_\+brake\+\_\+current@{mcpwm\+\_\+set\+\_\+brake\+\_\+current}}
\index{mcpwm\+\_\+set\+\_\+brake\+\_\+current@{mcpwm\+\_\+set\+\_\+brake\+\_\+current}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+set\+\_\+brake\+\_\+current(float current)}]{\setlength{\rightskip}{0pt plus 5cm}void mcpwm\+\_\+set\+\_\+brake\+\_\+current (
\begin{DoxyParamCaption}
\item[{float}]{current}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_af5a0f5ec4944da39e9192d1fee78c5ad}
Brake the motor with a desired current. Absolute values less than conf.\+cc\+\_\+min\+\_\+current will release the motor.


\begin{DoxyParams}{Parameters}
{\em current} & The current to use. Positive and negative values give the same effect. \\
\hline
\end{DoxyParams}
\hypertarget{mcpwm_8c_adf1422a651e069f04434c76fd359f5d7}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+set\+\_\+comm\+\_\+mode@{mcpwm\+\_\+set\+\_\+comm\+\_\+mode}}
\index{mcpwm\+\_\+set\+\_\+comm\+\_\+mode@{mcpwm\+\_\+set\+\_\+comm\+\_\+mode}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+set\+\_\+comm\+\_\+mode(mc\+\_\+comm\+\_\+mode mode)}]{\setlength{\rightskip}{0pt plus 5cm}void mcpwm\+\_\+set\+\_\+comm\+\_\+mode (
\begin{DoxyParamCaption}
\item[{{\bf mc\+\_\+comm\+\_\+mode}}]{mode}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_adf1422a651e069f04434c76fd359f5d7}
Set the commutation mode for sensorless commutation.


\begin{DoxyParams}{Parameters}
{\em mode} & C\+O\+M\+M\+\_\+\+M\+O\+D\+E\+\_\+\+I\+N\+T\+E\+G\+R\+A\+T\+E\+: More robust, but requires many parameters. C\+O\+M\+M\+\_\+\+M\+O\+D\+E\+\_\+\+D\+E\+L\+A\+Y\+: Like most hobby E\+S\+Cs. Requires less parameters, but has worse startup and is less robust. \\
\hline
\end{DoxyParams}
\hypertarget{mcpwm_8c_af0c84721a6bd9e03bcdc83997dceb0bd}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+set\+\_\+configuration@{mcpwm\+\_\+set\+\_\+configuration}}
\index{mcpwm\+\_\+set\+\_\+configuration@{mcpwm\+\_\+set\+\_\+configuration}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+set\+\_\+configuration(mc\+\_\+configuration $\ast$configuration)}]{\setlength{\rightskip}{0pt plus 5cm}void mcpwm\+\_\+set\+\_\+configuration (
\begin{DoxyParamCaption}
\item[{{\bf mc\+\_\+configuration} $\ast$}]{configuration}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_af0c84721a6bd9e03bcdc83997dceb0bd}
\hypertarget{mcpwm_8c_ac8cce9e7089ba5b002f4bf38211ed27a}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+set\+\_\+current@{mcpwm\+\_\+set\+\_\+current}}
\index{mcpwm\+\_\+set\+\_\+current@{mcpwm\+\_\+set\+\_\+current}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+set\+\_\+current(float current)}]{\setlength{\rightskip}{0pt plus 5cm}void mcpwm\+\_\+set\+\_\+current (
\begin{DoxyParamCaption}
\item[{float}]{current}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_ac8cce9e7089ba5b002f4bf38211ed27a}
Use current control and specify a goal current to use. The sign determines the direction of the torque. Absolute values less than conf.\+cc\+\_\+min\+\_\+current will release the motor.


\begin{DoxyParams}{Parameters}
{\em current} & The current to use. \\
\hline
\end{DoxyParams}
\hypertarget{mcpwm_8c_aee80954eb251a3cc7e3cbd9e2d72ad50}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+set\+\_\+detect@{mcpwm\+\_\+set\+\_\+detect}}
\index{mcpwm\+\_\+set\+\_\+detect@{mcpwm\+\_\+set\+\_\+detect}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+set\+\_\+detect(void)}]{\setlength{\rightskip}{0pt plus 5cm}void mcpwm\+\_\+set\+\_\+detect (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_aee80954eb251a3cc7e3cbd9e2d72ad50}
\hypertarget{mcpwm_8c_a9dd57224b5a0906f51f63deb04575fda}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+set\+\_\+duty@{mcpwm\+\_\+set\+\_\+duty}}
\index{mcpwm\+\_\+set\+\_\+duty@{mcpwm\+\_\+set\+\_\+duty}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+set\+\_\+duty(float duty\+Cycle)}]{\setlength{\rightskip}{0pt plus 5cm}void mcpwm\+\_\+set\+\_\+duty (
\begin{DoxyParamCaption}
\item[{float}]{duty\+Cycle}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_a9dd57224b5a0906f51f63deb04575fda}
Use duty cycle control. Absolute values less than M\+C\+P\+W\+M\+\_\+\+M\+I\+N\+\_\+\+D\+U\+T\+Y\+\_\+\+C\+Y\+C\+L\+E will stop the motor.


\begin{DoxyParams}{Parameters}
{\em duty\+Cycle} & The duty cycle to use. \\
\hline
\end{DoxyParams}
\hypertarget{mcpwm_8c_a56298b9a210017fcdf9eb982de492a80}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+set\+\_\+min\+\_\+rpm@{mcpwm\+\_\+set\+\_\+min\+\_\+rpm}}
\index{mcpwm\+\_\+set\+\_\+min\+\_\+rpm@{mcpwm\+\_\+set\+\_\+min\+\_\+rpm}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+set\+\_\+min\+\_\+rpm(float rpm)}]{\setlength{\rightskip}{0pt plus 5cm}void mcpwm\+\_\+set\+\_\+min\+\_\+rpm (
\begin{DoxyParamCaption}
\item[{float}]{rpm}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_a56298b9a210017fcdf9eb982de492a80}
Set the minimum allowed R\+P\+M in sensorless mode. This will affect startup performance. W\+A\+R\+N\+I\+N\+G\+: Setting this too high can break stuff.


\begin{DoxyParams}{Parameters}
{\em rpm} & The minimum allowed R\+P\+M. \\
\hline
\end{DoxyParams}
\hypertarget{mcpwm_8c_a947be2c19679b5d18b593fd43b3bbc5f}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+set\+\_\+pid\+\_\+pos@{mcpwm\+\_\+set\+\_\+pid\+\_\+pos}}
\index{mcpwm\+\_\+set\+\_\+pid\+\_\+pos@{mcpwm\+\_\+set\+\_\+pid\+\_\+pos}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+set\+\_\+pid\+\_\+pos(float pos)}]{\setlength{\rightskip}{0pt plus 5cm}void mcpwm\+\_\+set\+\_\+pid\+\_\+pos (
\begin{DoxyParamCaption}
\item[{float}]{pos}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_a947be2c19679b5d18b593fd43b3bbc5f}
Use P\+I\+D position control. Note that this only works when encoder support is enabled.


\begin{DoxyParams}{Parameters}
{\em pos} & The desired position of the motor in degrees. \\
\hline
\end{DoxyParams}
\hypertarget{mcpwm_8c_ac0ea3c433002e0c6152f1e8c336ea773}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+set\+\_\+pid\+\_\+speed@{mcpwm\+\_\+set\+\_\+pid\+\_\+speed}}
\index{mcpwm\+\_\+set\+\_\+pid\+\_\+speed@{mcpwm\+\_\+set\+\_\+pid\+\_\+speed}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+set\+\_\+pid\+\_\+speed(float rpm)}]{\setlength{\rightskip}{0pt plus 5cm}void mcpwm\+\_\+set\+\_\+pid\+\_\+speed (
\begin{DoxyParamCaption}
\item[{float}]{rpm}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_ac0ea3c433002e0c6152f1e8c336ea773}
Use P\+I\+D rpm control. Note that this value has to be multiplied by half of the number of motor poles.


\begin{DoxyParams}{Parameters}
{\em rpm} & The electrical R\+P\+M goal value to use. \\
\hline
\end{DoxyParams}
\hypertarget{mcpwm_8c_a9833abbb75ecaec36ea2f2ae6afa14e3}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+unlock@{mcpwm\+\_\+unlock}}
\index{mcpwm\+\_\+unlock@{mcpwm\+\_\+unlock}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+unlock(void)}]{\setlength{\rightskip}{0pt plus 5cm}void mcpwm\+\_\+unlock (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{mcpwm_8c_a9833abbb75ecaec36ea2f2ae6afa14e3}
Unlock all control commands. 

\subsection{Variable Documentation}
\hypertarget{mcpwm_8c_aa75d77505f32e6d3c77478586bdb950e}{}\index{mcpwm.\+c@{mcpwm.\+c}!A\+D\+C\+\_\+curr\+\_\+norm\+\_\+value@{A\+D\+C\+\_\+curr\+\_\+norm\+\_\+value}}
\index{A\+D\+C\+\_\+curr\+\_\+norm\+\_\+value@{A\+D\+C\+\_\+curr\+\_\+norm\+\_\+value}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{A\+D\+C\+\_\+curr\+\_\+norm\+\_\+value}]{\setlength{\rightskip}{0pt plus 5cm}volatile int A\+D\+C\+\_\+curr\+\_\+norm\+\_\+value\mbox{[}3\mbox{]}}\label{mcpwm_8c_aa75d77505f32e6d3c77478586bdb950e}
\hypertarget{mcpwm_8c_a92addeb7fc84a6a6406cb102c7c0e9ae}{}\index{mcpwm.\+c@{mcpwm.\+c}!A\+D\+C\+\_\+\+Value@{A\+D\+C\+\_\+\+Value}}
\index{A\+D\+C\+\_\+\+Value@{A\+D\+C\+\_\+\+Value}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{A\+D\+C\+\_\+\+Value}]{\setlength{\rightskip}{0pt plus 5cm}volatile uint16\+\_\+t A\+D\+C\+\_\+\+Value\mbox{[}{\bf H\+W\+\_\+\+A\+D\+C\+\_\+\+C\+H\+A\+N\+N\+E\+L\+S}\mbox{]}}\label{mcpwm_8c_a92addeb7fc84a6a6406cb102c7c0e9ae}
\hypertarget{mcpwm_8c_a2bca8f3de1af25942434bdef5a909378}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+detect\+\_\+currents@{mcpwm\+\_\+detect\+\_\+currents}}
\index{mcpwm\+\_\+detect\+\_\+currents@{mcpwm\+\_\+detect\+\_\+currents}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+detect\+\_\+currents}]{\setlength{\rightskip}{0pt plus 5cm}volatile float mcpwm\+\_\+detect\+\_\+currents\mbox{[}6\mbox{]}}\label{mcpwm_8c_a2bca8f3de1af25942434bdef5a909378}
\hypertarget{mcpwm_8c_a6c4d8d0d82abf19417f9736759520865}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+detect\+\_\+currents\+\_\+diff@{mcpwm\+\_\+detect\+\_\+currents\+\_\+diff}}
\index{mcpwm\+\_\+detect\+\_\+currents\+\_\+diff@{mcpwm\+\_\+detect\+\_\+currents\+\_\+diff}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+detect\+\_\+currents\+\_\+diff}]{\setlength{\rightskip}{0pt plus 5cm}volatile float mcpwm\+\_\+detect\+\_\+currents\+\_\+diff\mbox{[}6\mbox{]}}\label{mcpwm_8c_a6c4d8d0d82abf19417f9736759520865}
\hypertarget{mcpwm_8c_a93815fdbff6751bfeee07700f79bbb2c}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+detect\+\_\+voltages@{mcpwm\+\_\+detect\+\_\+voltages}}
\index{mcpwm\+\_\+detect\+\_\+voltages@{mcpwm\+\_\+detect\+\_\+voltages}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+detect\+\_\+voltages}]{\setlength{\rightskip}{0pt plus 5cm}volatile float mcpwm\+\_\+detect\+\_\+voltages\mbox{[}6\mbox{]}}\label{mcpwm_8c_a93815fdbff6751bfeee07700f79bbb2c}
\hypertarget{mcpwm_8c_aa2e911423c3781dd1296002d54bf0fa0}{}\index{mcpwm.\+c@{mcpwm.\+c}!mcpwm\+\_\+vzero@{mcpwm\+\_\+vzero}}
\index{mcpwm\+\_\+vzero@{mcpwm\+\_\+vzero}!mcpwm.\+c@{mcpwm.\+c}}
\subsubsection[{mcpwm\+\_\+vzero}]{\setlength{\rightskip}{0pt plus 5cm}volatile int mcpwm\+\_\+vzero}\label{mcpwm_8c_aa2e911423c3781dd1296002d54bf0fa0}
