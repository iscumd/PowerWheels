\hypertarget{servo__dec_8c}{}\section{servo\+\_\+dec.\+c File Reference}
\label{servo__dec_8c}\index{servo\+\_\+dec.\+c@{servo\+\_\+dec.\+c}}
{\ttfamily \#include \char`\"{}servo\+\_\+dec.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}stm32f4xx\+\_\+conf.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ch.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}hal.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}hw.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}utils.\+h\char`\"{}}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{servo__dec_8c_aed17cc614407b5a9facc1ca9587c419d}{S\+E\+R\+V\+O\+\_\+\+N\+U\+M}~1
\item 
\#define \hyperlink{servo__dec_8c_acf926951944b6cf370b7229ebd50dd8b}{T\+I\+M\+E\+R\+\_\+\+F\+R\+E\+Q}~1000000
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{servo__dec_8c_a53c55db3c66ec291596ed1f7e6db4d06}{servodec\+\_\+init} (void($\ast$d\+\_\+func)(void))
\item 
void \hyperlink{servo__dec_8c_ae5bacf20ea61fd28be64d44fc2418ac2}{servodec\+\_\+set\+\_\+pulse\+\_\+options} (float start, float end, bool median\+\_\+filter)
\item 
float \hyperlink{servo__dec_8c_ad860a93d8821ab85814bbe3cd0ce6793}{servodec\+\_\+get\+\_\+servo} (int servo\+\_\+num)
\item 
uint32\+\_\+t \hyperlink{servo__dec_8c_afbd7657022854c870403b8de1977028b}{servodec\+\_\+get\+\_\+time\+\_\+since\+\_\+update} (void)
\item 
float \hyperlink{servo__dec_8c_a3187e0123607bd9151a6d446629a7aa7}{servodec\+\_\+get\+\_\+last\+\_\+pulse\+\_\+len} (int servo\+\_\+num)
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{servo__dec_8c_aed17cc614407b5a9facc1ca9587c419d}{}\index{servo\+\_\+dec.\+c@{servo\+\_\+dec.\+c}!S\+E\+R\+V\+O\+\_\+\+N\+U\+M@{S\+E\+R\+V\+O\+\_\+\+N\+U\+M}}
\index{S\+E\+R\+V\+O\+\_\+\+N\+U\+M@{S\+E\+R\+V\+O\+\_\+\+N\+U\+M}!servo\+\_\+dec.\+c@{servo\+\_\+dec.\+c}}
\subsubsection[{S\+E\+R\+V\+O\+\_\+\+N\+U\+M}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+E\+R\+V\+O\+\_\+\+N\+U\+M~1}\label{servo__dec_8c_aed17cc614407b5a9facc1ca9587c419d}
\hypertarget{servo__dec_8c_acf926951944b6cf370b7229ebd50dd8b}{}\index{servo\+\_\+dec.\+c@{servo\+\_\+dec.\+c}!T\+I\+M\+E\+R\+\_\+\+F\+R\+E\+Q@{T\+I\+M\+E\+R\+\_\+\+F\+R\+E\+Q}}
\index{T\+I\+M\+E\+R\+\_\+\+F\+R\+E\+Q@{T\+I\+M\+E\+R\+\_\+\+F\+R\+E\+Q}!servo\+\_\+dec.\+c@{servo\+\_\+dec.\+c}}
\subsubsection[{T\+I\+M\+E\+R\+\_\+\+F\+R\+E\+Q}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+I\+M\+E\+R\+\_\+\+F\+R\+E\+Q~1000000}\label{servo__dec_8c_acf926951944b6cf370b7229ebd50dd8b}


\subsection{Function Documentation}
\hypertarget{servo__dec_8c_a3187e0123607bd9151a6d446629a7aa7}{}\index{servo\+\_\+dec.\+c@{servo\+\_\+dec.\+c}!servodec\+\_\+get\+\_\+last\+\_\+pulse\+\_\+len@{servodec\+\_\+get\+\_\+last\+\_\+pulse\+\_\+len}}
\index{servodec\+\_\+get\+\_\+last\+\_\+pulse\+\_\+len@{servodec\+\_\+get\+\_\+last\+\_\+pulse\+\_\+len}!servo\+\_\+dec.\+c@{servo\+\_\+dec.\+c}}
\subsubsection[{servodec\+\_\+get\+\_\+last\+\_\+pulse\+\_\+len(int servo\+\_\+num)}]{\setlength{\rightskip}{0pt plus 5cm}float servodec\+\_\+get\+\_\+last\+\_\+pulse\+\_\+len (
\begin{DoxyParamCaption}
\item[{int}]{servo\+\_\+num}
\end{DoxyParamCaption}
)}\label{servo__dec_8c_a3187e0123607bd9151a6d446629a7aa7}
Get the length of the last received pulse.


\begin{DoxyParams}{Parameters}
{\em servo\+\_\+num} & The servo index. If it is out of range, 0.\+0 will be returned.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The length of the last received pulse. 
\end{DoxyReturn}
\hypertarget{servo__dec_8c_ad860a93d8821ab85814bbe3cd0ce6793}{}\index{servo\+\_\+dec.\+c@{servo\+\_\+dec.\+c}!servodec\+\_\+get\+\_\+servo@{servodec\+\_\+get\+\_\+servo}}
\index{servodec\+\_\+get\+\_\+servo@{servodec\+\_\+get\+\_\+servo}!servo\+\_\+dec.\+c@{servo\+\_\+dec.\+c}}
\subsubsection[{servodec\+\_\+get\+\_\+servo(int servo\+\_\+num)}]{\setlength{\rightskip}{0pt plus 5cm}float servodec\+\_\+get\+\_\+servo (
\begin{DoxyParamCaption}
\item[{int}]{servo\+\_\+num}
\end{DoxyParamCaption}
)}\label{servo__dec_8c_ad860a93d8821ab85814bbe3cd0ce6793}
Get a decoded servo value.


\begin{DoxyParams}{Parameters}
{\em servo\+\_\+num} & The servo index. If it is out of range, 0.\+0 will be returned.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The servo value in the range \mbox{[}-\/1.\+0 1.\+0\mbox{]}. 
\end{DoxyReturn}
\hypertarget{servo__dec_8c_afbd7657022854c870403b8de1977028b}{}\index{servo\+\_\+dec.\+c@{servo\+\_\+dec.\+c}!servodec\+\_\+get\+\_\+time\+\_\+since\+\_\+update@{servodec\+\_\+get\+\_\+time\+\_\+since\+\_\+update}}
\index{servodec\+\_\+get\+\_\+time\+\_\+since\+\_\+update@{servodec\+\_\+get\+\_\+time\+\_\+since\+\_\+update}!servo\+\_\+dec.\+c@{servo\+\_\+dec.\+c}}
\subsubsection[{servodec\+\_\+get\+\_\+time\+\_\+since\+\_\+update(void)}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t servodec\+\_\+get\+\_\+time\+\_\+since\+\_\+update (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{servo__dec_8c_afbd7657022854c870403b8de1977028b}
Get the amount of milliseconds that has passed since the last time servo positions were received.

\begin{DoxyReturn}{Returns}
The amount of milliseconds that have passed since an update. 
\end{DoxyReturn}
\hypertarget{servo__dec_8c_a53c55db3c66ec291596ed1f7e6db4d06}{}\index{servo\+\_\+dec.\+c@{servo\+\_\+dec.\+c}!servodec\+\_\+init@{servodec\+\_\+init}}
\index{servodec\+\_\+init@{servodec\+\_\+init}!servo\+\_\+dec.\+c@{servo\+\_\+dec.\+c}}
\subsubsection[{servodec\+\_\+init(void($\ast$d\+\_\+func)(void))}]{\setlength{\rightskip}{0pt plus 5cm}void servodec\+\_\+init (
\begin{DoxyParamCaption}
\item[{void($\ast$)(void)}]{d\+\_\+func}
\end{DoxyParamCaption}
)}\label{servo__dec_8c_a53c55db3c66ec291596ed1f7e6db4d06}
Initialize the serve decoding driver.


\begin{DoxyParams}{Parameters}
{\em d\+\_\+func} & A function that should be called every time the servo signals have been decoded. Can be N\+U\+L\+L. \\
\hline
\end{DoxyParams}
\hypertarget{servo__dec_8c_ae5bacf20ea61fd28be64d44fc2418ac2}{}\index{servo\+\_\+dec.\+c@{servo\+\_\+dec.\+c}!servodec\+\_\+set\+\_\+pulse\+\_\+options@{servodec\+\_\+set\+\_\+pulse\+\_\+options}}
\index{servodec\+\_\+set\+\_\+pulse\+\_\+options@{servodec\+\_\+set\+\_\+pulse\+\_\+options}!servo\+\_\+dec.\+c@{servo\+\_\+dec.\+c}}
\subsubsection[{servodec\+\_\+set\+\_\+pulse\+\_\+options(float start, float end, bool median\+\_\+filter)}]{\setlength{\rightskip}{0pt plus 5cm}void servodec\+\_\+set\+\_\+pulse\+\_\+options (
\begin{DoxyParamCaption}
\item[{float}]{start, }
\item[{float}]{end, }
\item[{bool}]{median\+\_\+filter}
\end{DoxyParamCaption}
)}\label{servo__dec_8c_ae5bacf20ea61fd28be64d44fc2418ac2}
Change the limits of how the servo pulses should be decoded.


\begin{DoxyParams}{Parameters}
{\em start} & The amount of milliseconds the pulse starts at (default is 1.\+0)\\
\hline
{\em end} & he amount of milliseconds the pulse ends at (default is 2.\+0) \\
\hline
\end{DoxyParams}
